import{_ as f,e as P,r as c,o as r,c as i,a as l,d as t,b as d,F as u,f as L,t as k,w as T}from"./index-df505f69.js";import{S as V}from"./sweetalert2.all-c9188a88.js";const{VITE_APP_URL:_,VITE_APP_PATH:p}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/weekk66/",MODE:"production",DEV:!1,PROD:!0},b={data(){return{isLoading:!1,products:[]}},components:{RouterLink:P},methods:{getProducts(){this.$http.get(`${_}/api/${p}/products/all`).then(o=>{console.log(o),this.products=o.data.products}).catch(o=>{console.error(o)})},addToCart(o){const s={product_id:o,qty:1};this.$http.post(`${_}/api/${p}/cart`,{data:s}).then(n=>{console.log(n),V.fire({position:"center",icon:"success",title:"成功加入購物車",showConfirmButton:!0,confirmButtonText:"確認"})}).catch(n=>{console.error(n)})}},mounted(){this.getProducts(),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1e3)}},v={class:"table"},E=["src"],$=["onClick"];function w(o,s,n,x,a,h){const m=c("VueLoading"),g=c("Router-link");return r(),i(u,null,[l(m,{active:a.isLoading,"onUpdate:active":s[0]||(s[0]=e=>a.isLoading=e)},null,8,["active"]),t("div",null,[d(" 產品頁面 "),t("table",v,[t("tbody",null,[(r(!0),i(u,null,L(a.products,e=>(r(),i("tr",{key:e.id},[t("td",null,k(e.title),1),t("td",null,[t("img",{src:e.imageUrl,width:"300",alt:""},null,8,E)]),t("td",null,[l(g,{class:"btn btn-primary",to:`/product/${e.id}`},{default:T(()=>[d("產品細節")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-danger",onClick:A=>h.addToCart(e.id)}," 加入購物車 ",8,$)])]))),128))])])])],64)}const y=f(b,[["render",w]]);export{y as default};
