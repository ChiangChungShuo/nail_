import{_ as A,y as C,L,a as T,r as d,o as i,c,b as e,F as p,z as g,d as u,e as w,A as V,B as y,t as r,w as E,f as h}from"./index-7803fe14.js";import{S as x}from"./sweetalert2.all-0030b2f0.js";import{P as B}from"./PaginationModal-b2d04b08.js";import{c as S}from"./cart-df725e0d.js";/* empty css            */const{VITE_APP_URL:m,VITE_APP_PATH:v}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/weekk66",MODE:"production",DEV:!1,PROD:!0},M={data(){return{isLoading:!1,products:[],page:{},categorys:["所有樣式","單色","跳色","漸層","暈染","指定款"],isActive:"所有樣式"}},components:{RouterLink:C,PaginationModal:B,Loading:L},methods:{getProducts(s=1){this.$http.get(`${m}/api/${v}/products?page=${s}`).then(o=>{this.products=o.data.products,this.isLoading=!1,this.page=o.data.pagination}).catch(o=>{console.error(o)})},addToCart(s,o=1){const _={product_id:s,qty:o};this.$http.post(`${m}/api/${v}/cart`,{data:_}).then(n=>{alert(n.data.message),x.fire({position:"center",icon:"success",title:"成功加入購物車",showConfirmButton:!0,confirmButtonText:"確認"})}).catch(n=>{console.error(n)})},...T(S,["addToCart"])},computed:{productsFiltered(){return this.isActive==="所有樣式"?this.products:this.products.filter(s=>s.category===this.isActive)}},mounted(){this.getProducts(),this.isLoading=!0,setTimeout(()=>{this.getProducts()},1e3)}},R={class:"container"},U=w('<nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">首頁</a></li><li class="breadcrumb-item active" aria-current="page">美甲款式</li></ol></nav>',1),$={class:"row mt-5"},D={class:"col-md-2"},F=["onClick"],I={class:"col-md-10"},N={class:"row g-4"},z={class:"card"},H=["src"],O=e("span",null,"詳細資訊",-1),j={class:"card-body"},q={class:"card-title"},G={class:"card-text"},J=e("br",null,null,-1),K=["onClick"];function Q(s,o,_,n,a,l){const f=d("loading"),P=d("router-link"),b=d("PaginationModal");return i(),c("div",R,[U,e("div",$,[e("div",D,[(i(!0),c(p,null,g(a.categorys,t=>(i(),c("div",{class:"list-group",key:t},[e("a",{class:V(["list-group-item list-group-item-action",{active:a.isActive===t}]),style:{border:"0"},onClick:y(k=>a.isActive=t,["prevent"])},r(t),11,F)]))),128))]),e("div",I,[e("div",N,[u(f,{active:a.isLoading,"onUpdate:active":o[0]||(o[0]=t=>a.isLoading=t),"can-cancel":!0,color:s.color,"on-cancel":s.onCancel,"is-full-page":s.fullPage},null,8,["active","color","on-cancel","is-full-page"]),(i(!0),c(p,null,g(l.productsFiltered,t=>(i(),c("div",{class:"col-md-4 col-sm-6",key:t.id},[e("div",z,[u(P,{class:"products-img",role:"button",to:`/product/${t.id}`},{default:E(()=>[e("img",{src:t.imageUrl,class:"card-img-top object-cover",style:{height:"350px"}},null,8,H),O]),_:2},1032,["to"]),e("div",j,[e("h5",q,r(t.title),1),e("p",G,[h(r(t.description)+" ",1),J,h(" "+r(t.content),1)]),e("button",{type:"button",class:"btn btn-danger mt-auto fs-6 w-100",onClick:k=>l.addToCart(t.id)}," 加入購物車 ",8,K)])])]))),128)),u(b,{pages:a.page,onChangePage:l.getProducts},null,8,["pages","onChangePage"])])])])])}const et=A(M,[["render",Q]]);export{et as default};
