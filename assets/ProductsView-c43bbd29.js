import{_ as b,o as a,c as n,a as t,q as h,s as u,F as g,u as p,t as l,v as y,r as m,b as v,d as $,w as x,e as P}from"./index-03a2923e.js";import{S as w}from"./sweetalert2.all-21c8a891.js";/* empty css            */const V={props:["pages"],data(){return{}},methods:{goToPage(i){this.$emit("goToPage",i)}}},E={"aria-label":"Page navigation example"},L={class:"pagination justify-content-end"},A=t("span",{"aria-hidden":"true"},"«",-1),B=[A],R={key:0,class:"page-link"},S=["onClick"],D=t("span",{"aria-hidden":"true"},"»",-1),I=[D];function N(i,s,e,C,d,c){return a(),n("nav",E,[t("ul",L,[t("li",{class:h(["page-item",{disabled:!e.pages.has_pre}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:s[0]||(s[0]=u(r=>c.goToPage(e.pages.current_page-1),["prevent"]))},B)],2),(a(!0),n(g,null,p(e.pages.total_pages,(r,_)=>(a(),n("li",{key:_,class:"page-item"},[r===e.pages.current_page?(a(),n("span",R,l(r),1)):(a(),n("a",{key:1,class:"page-link",href:"#",onClick:u(o=>c.goToPage(r),["prevent"])},l(r),9,S))]))),128)),t("li",{class:h(["page-item",{disabled:!e.pages.has_next}])},[t("a",{class:"page-link",href:"#",onClick:s[1]||(s[1]=u(r=>c.goToPage(e.pages.current_page+1),["prevent"]))},I)],2)])])}const U=b(V,[["render",N]]);const{VITE_APP_URL:f,VITE_APP_PATH:k}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/weekk66",MODE:"production",DEV:!1,PROD:!0},j={data(){return{isLoading:!1,products:[],pagination:{},data:[],result:[],categorys:["單色","跳色","漸層","暈染","指定款"]}},components:{RouterLink:y,PaginationComponent:U},methods:{getProducts(i=2){for(let s=1;s<=i;s++)this.$http.get(`${f}/api/${k}/products?page=`+s).then(e=>{console.log(e),this.products=e.data.products,this.pagination=e.data.pagination,this.data=this.data.concat(e.data.products),console.log(this.data)}).catch(e=>{console.error(e)})},getCategory(i){this.result=this.data.filter(s=>s.category===i),console.log(this.result),this.products=this.result},addToCart(i){const s={product_id:i,qty:1};this.$http.post(`${f}/api/${k}/cart`,{data:s}).then(e=>{console.log(e),w.fire({position:"center",icon:"success",title:"成功加入購物車",showConfirmButton:!0,confirmButtonText:"確認"})}).catch(e=>{console.error(e)})}},mounted(){this.getProducts(),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1e3)}},q={class:"container"},z=$('<nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">首頁</a></li><li class="breadcrumb-item active" aria-current="page">美甲款式</li></ol></nav>',1),F={class:"row mt-5"},G={class:"col-md-2"},H={class:"list-group"},M=["onClick"],O={class:"col-md-10"},J={class:"row g-4"},K={class:"card"},Q=["src"],W=t("span",null,"詳細資訊",-1),X={class:"card-body"},Y={class:"card-title"},Z={class:"card-text"},tt=t("br",null,null,-1),et=["onClick"];function st(i,s,e,C,d,c){const r=m("router-link"),_=m("pagination-component");return a(),n("div",q,[z,t("div",F,[t("div",G,[t("div",H,[t("a",{class:"list-group-item list-group-item-action",onClick:s[0]||(s[0]=o=>c.getProducts())}," 所有款式 "),(a(!0),n(g,null,p(d.categorys,o=>(a(),n("a",{class:"list-group-item list-group-item-action",onClick:T=>c.getCategory(o),key:o},l(o),9,M))),128))])]),t("div",O,[t("div",J,[(a(!0),n(g,null,p(d.products,o=>(a(),n("div",{class:"col-md-4 col-sm-6",key:o.id},[t("div",K,[v(r,{class:"products-img",role:"button",to:`/product/${o.id}`},{default:x(()=>[t("img",{src:o.imageUrl,class:"card-img-top object-cover",style:{height:"350px"}},null,8,Q),W]),_:2},1032,["to"]),t("div",X,[t("h5",Y,l(o.title),1),t("p",Z,[P(l(o.description)+" ",1),tt,P(" "+l(o.content),1)]),t("button",{type:"button",class:"btn btn-danger mt-auto fs-6 w-100",onClick:T=>c.addToCart(o.id)}," 加入購物車 ",8,et)])])]))),128)),v(_,{pages:d.pagination,onGoToPage:c.getProducts},null,8,["pages","onGoToPage"])])])])])}const it=b(j,[["render",st]]);export{it as default};
