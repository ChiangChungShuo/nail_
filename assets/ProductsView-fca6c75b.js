import{_ as g,f,r as c,o as r,c as i,b as l,a as t,F as d,g as P,t as L,w as k,e as T}from"./index-2f29c39f.js";import{S as V}from"./sweetalert2.all-1e04eeac.js";const{VITE_APP_URL:u,VITE_APP_PATH:_}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/weekk66/",MODE:"production",DEV:!1,PROD:!0},b={data(){return{isLoading:!1,products:[]}},components:{RouterLink:f},methods:{getProducts(){this.$http.get(`${u}/api/${_}/products/all`).then(o=>{console.log(o),this.products=o.data.products}).catch(o=>{console.error(o)})},addToCart(o){const s={product_id:o,qty:1};this.$http.post(`${u}/api/${_}/cart`,{data:s}).then(n=>{console.log(n),V.fire({position:"center",icon:"success",title:"成功加入購物車",showConfirmButton:!0,confirmButtonText:"確認"})}).catch(n=>{console.error(n)})}},mounted(){this.getProducts(),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1e3)}},v={class:"table"},E=["src"],$=["onClick"];function w(o,s,n,x,a,p){const h=c("VueLoading"),m=c("Router-link");return r(),i(d,null,[l(h,{active:a.isLoading,"onUpdate:active":s[0]||(s[0]=e=>a.isLoading=e)},null,8,["active"]),t("div",null,[t("table",v,[t("tbody",null,[(r(!0),i(d,null,P(a.products,e=>(r(),i("tr",{key:e.id},[t("td",null,L(e.title),1),t("td",null,[t("img",{src:e.imageUrl,width:"300",alt:""},null,8,E)]),t("td",null,[l(m,{class:"btn btn-primary",to:`/product/${e.id}`},{default:k(()=>[T("產品細節")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-danger",onClick:A=>p.addToCart(e.id)}," 加入購物車 ",8,$)])]))),128))])])])],64)}const y=g(b,[["render",w]]);export{y as default};
