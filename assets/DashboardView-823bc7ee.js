import{_ as p,R as k,r as n,o as u,c as _,a as e,b as s,w as r,d as i,k as m,l as f,h as V,F as g}from"./index-4a4d3a3a.js";const{VITE_APP_URL:R}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/weekk66/",MODE:"production",DEV:!1,PROD:!0},$={data(){return{checkSuccess:!1}},components:{RouterView:k},methods:{logout(){document.cookie="azraelkToken=; expires=;",alert("登出成功"),this.$router.push("/login")},checkLogin(){this.$http.post(`${R}/api/user/check`).then(()=>{this.checkSuccess=!0}).catch(t=>{alert(t.response.data.message),this.$router.push("/login")})}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)azraelkToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,t?this.checkLogin():(alert("您尚未登入"),this.$router.push("/login"))}},w=i("hr",null,null,-1);function P(t,a,x,E,l,c){const o=n("RouterLink"),h=n("RouterView");return u(),_(g,null,[e(' 這是"後台"頁面 '),s(o,{to:"/admin/products"},{default:r(()=>[e("後台產品列表")]),_:1}),e(" ｜ "),s(o,{to:"/admin/orders"},{default:r(()=>[e("後台訂單管理")]),_:1}),e(" ｜ "),s(o,{to:"/"},{default:r(()=>[e("返回前台")]),_:1}),e(" ｜ "),i("a",{href:"#",onClick:a[0]||(a[0]=m((...d)=>c.logout&&c.logout(...d),["prevent"]))},"登出"),w,l.checkSuccess?(u(),f(h,{key:0})):V("",!0)],64)}const T=p($,[["render",P]]);export{T as default};
