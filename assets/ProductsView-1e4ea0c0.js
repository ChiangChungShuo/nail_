import{_ as P,e as L,r as l,o as r,c as i,b as c,d as t,a as d,F as u,f,t as k,w as V}from"./index-4b7eeb9a.js";const{VITE_APP_URL:_,VITE_APP_PATH:p}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/weekk66/",MODE:"production",DEV:!1,PROD:!0},b={data(){return{isLoading:!1,products:[]}},components:{RouterLink:L},methods:{getProducts(){this.$http.get(`${_}/api/${p}/products/all`).then(e=>{console.log(e),this.products=e.data.products}).catch(e=>{console.error(e)})},addToCart(e){const n={product_id:e,qty:1};this.$http.post(`${_}/api/${p}/cart`,{data:n}).then(s=>{console.log(s),alert(s.data.message)}).catch(s=>{console.error(s)})}},mounted(){this.getProducts(),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1500)}},T={class:"table"},v=["src"],E=["onClick"];function $(e,n,s,A,a,h){const g=l("VueLoading"),m=l("Router-link");return r(),i(u,null,[c(g,{active:a.isLoading,"onUpdate:active":n[0]||(n[0]=o=>a.isLoading=o)},null,8,["active"]),t("div",null,[d(" 產品頁面 "),t("table",T,[t("tbody",null,[(r(!0),i(u,null,f(a.products,o=>(r(),i("tr",{key:o.id},[t("td",null,k(o.title),1),t("td",null,[t("img",{src:o.imageUrl,width:"300",alt:""},null,8,v)]),t("td",null,[c(m,{class:"btn btn-primary",to:`/product/${o.id}`},{default:V(()=>[d("產品細節")]),_:2},1032,["to"]),t("button",{type:"button",class:"btn btn-danger",onClick:R=>h.addToCart(o.id)}," 加入購物車 ",8,E)])]))),128))])])])],64)}const y=P(b,[["render",$]]);export{y as default};
