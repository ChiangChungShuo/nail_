import{_ as w,y as V,L as E,a as g,m,r as u,o as i,c as a,b as t,F as v,z as b,d as _,e as S,A as B,B as h,t as r,w as x,f as d}from"./index-025db92b.js";import{S as F}from"./sweetalert2.all-6acaa431.js";import{c as f}from"./collect-b0c40380.js";import{P as M}from"./PaginationModal-ed1a7b22.js";import{c as C}from"./cart-1e063479.js";/* empty css            */const{VITE_APP_URL:P,VITE_APP_PATH:k}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/nail_",MODE:"production",DEV:!1,PROD:!0},R={data(){return{isLoading:!1,products:[],page:{},categorys:["所有樣式","單色","跳色","漸層","暈染","指定款"],isActive:"所有樣式"}},components:{RouterLink:V,PaginationModal:M,Loading:E},methods:{getProducts(s=1){this.$http.get(`${P}/api/${k}/products?page=${s}`).then(o=>{this.products=o.data.products,this.isLoading=!1,this.page=o.data.pagination}).catch(o=>{console.error(o)})},addToCart(s,o=1){const p={product_id:s,qty:o};this.$http.post(`${P}/api/${k}/cart`,{data:p}).then(c=>{alert(c.data.message),F.fire({position:"center",icon:"success",title:"成功加入購物車",showConfirmButton:!0,confirmButtonText:"確認"})}).catch(c=>{console.error(c)})},...g(C,["addToCart","getCarts"]),...g(f,["addToCollect","getCollects","removeCollect"])},computed:{isFav(){return s=>this.collects.filter(o=>o.id===s).length},productsFiltered(){return this.isActive==="所有樣式"?this.products:this.products.filter(s=>s.category===this.isActive)},...m(C,["state"]),...m(f,["collects"])},mounted(){this.getCollects(),this.getProducts(),this.isLoading=!0,setTimeout(()=>{this.getProducts()},1e3)}},U={class:"container"},D=S('<nav aria-label="breadcrumb" class="mt-3"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="#">首頁</a></li><li class="breadcrumb-item active" aria-current="page">美甲款式</li></ol></nav>',1),I={class:"row mt-5"},N={class:"col-md-2"},$=["onClick"],z={class:"col-md-10"},j={class:"row g-4",style:{width:"100%"}},H={class:"card"},O=["src"],q=t("span",null,"詳細資訊",-1),G={class:"card-body"},J={class:"card-title"},K={class:"card-text"},Q=t("br",null,null,-1),W={class:"d-flex justify-content-between"},X=["onClick"],Y=t("i",{class:"bi bi-heart"},null,-1),Z=["onClick"],tt=t("i",{class:"bi bi-heart"},null,-1),et=["onClick"];function st(s,o,p,c,n,l){const y=u("loading"),A=u("router-link"),T=u("PaginationModal");return i(),a("div",U,[D,t("div",I,[t("div",N,[(i(!0),a(v,null,b(n.categorys,e=>(i(),a("div",{class:"list-group",key:e},[t("button",{class:B(["list-group-item list-group-item-action",{active:n.isActive===e}]),style:{border:"0"},type:"button",onClick:h(L=>n.isActive=e,["prevent"])},r(e),11,$)]))),128))]),t("div",z,[t("div",j,[_(y,{active:n.isLoading,"onUpdate:active":o[0]||(o[0]=e=>n.isLoading=e),"can-cancel":!0,color:s.color,"on-cancel":s.onCancel,"is-full-page":s.fullPage},null,8,["active","color","on-cancel","is-full-page"]),(i(!0),a(v,null,b(l.productsFiltered,e=>(i(),a("div",{class:"col-md-4 col-sm-6",key:e.id},[t("div",H,[_(A,{class:"products-img",role:"button",to:`/product/${e.id}`},{default:x(()=>[t("img",{src:e.imageUrl,class:"card-img-top object-cover",style:{height:"350px"}},null,8,O),q]),_:2},1032,["to"]),t("div",G,[t("h5",J,r(e.title),1),t("p",K,[d(r(e.description)+" ",1),Q,d(" "+r(e.content),1)]),t("div",W,[t("div",null,[l.isFav(e.id)?(i(),a("button",{key:1,type:"button",class:"btn btn-success",onClick:h(()=>s.removeCollect(e),["prevent"])},[tt,d(" 已收藏 ")],8,Z)):(i(),a("button",{key:0,type:"button",class:"btn btn-outline-success",onClick:h(()=>s.addToCollect(e),["prevent"])},[Y,d(" 加入收藏 ")],8,X))]),t("div",null,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:L=>l.addToCart(e.id)}," 加入購物車 ",8,et)])])])])]))),128)),_(T,{pages:n.page,onChangePage:l.getProducts},null,8,["pages","onChangePage"])])])])])}const rt=w(R,[["render",st]]);export{rt as default};
