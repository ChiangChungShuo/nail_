import{_ as P,o as i,c as n,a as t,n as p,m as g,F as k,q as T,t as l,s as x,r as u,b as h,d as y,w as C,e as m}from"./index-883594ed.js";import{S as b}from"./sweetalert2.all-c19af9b4.js";const w={props:["pages"],data(){return{}},methods:{goToPage(c){this.$emit("goToPage",c)}}},V={"aria-label":"Page navigation example"},E={class:"pagination justify-content-end"},L=t("span",{"aria-hidden":"true"},"«",-1),A=[L],B={key:0,class:"page-link"},R=["onClick"],S=t("span",{"aria-hidden":"true"},"»",-1),D=[S];function I(c,e,s,$,d,r){return i(),n("nav",V,[t("ul",E,[t("li",{class:p(["page-item",{disabled:!s.pages.has_pre}])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=g(o=>r.goToPage(s.pages.current_page-1),["prevent"]))},A)],2),(i(!0),n(k,null,T(s.pages.total_pages,(o,_)=>(i(),n("li",{key:_,class:"page-item"},[o===s.pages.current_page?(i(),n("span",B,l(o),1)):(i(),n("a",{key:1,class:"page-link",href:"#",onClick:g(a=>r.goToPage(o),["prevent"])},l(o),9,R))]))),128)),t("li",{class:p(["page-item",{disabled:!s.pages.has_next}])},[t("a",{class:"page-link",href:"#",onClick:e[1]||(e[1]=g(o=>r.goToPage(s.pages.current_page+1),["prevent"]))},D)],2)])])}const N=P(w,[["render",I]]);const{VITE_APP_URL:f,VITE_APP_PATH:v}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/weekk66",MODE:"production",DEV:!1,PROD:!0},U={data(){return{isLoading:!1,products:[],pagination:{}}},components:{RouterLink:x,PaginationComponent:N},methods:{getProducts(c=1){this.$http.get(`${f}/api/${v}/products?page=${c}`).then(e=>{console.log(e),this.products=e.data.products,this.pagination=e.data.pagination}).catch(e=>{console.error(e)})},addToCart(c){const e={product_id:c,qty:1};this.$http.post(`${f}/api/${v}/cart`,{data:e}).then(s=>{console.log(s),b.fire({position:"center",icon:"success",title:"成功加入購物車",showConfirmButton:!0,confirmButtonText:"確認"})}).catch(s=>{console.error(s)})}},mounted(){this.getProducts(),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1e3)}},q={class:"container my-5"},z={class:"row"},F=y('<div class="col-md-2"><div class="list-group"><a href="#" class="list-group-item list-group-item-action active" aria-current="true"> 所有款式 </a><a href="#" class="list-group-item list-group-item-action">單色</a><a href="#" class="list-group-item list-group-item-action">跳色</a><a href="#" class="list-group-item list-group-item-action">漸層</a><a href="#" class="list-group-item list-group-item-action">暈染</a><a href="#" class="list-group-item list-group-item-action">指定款</a></div></div>',1),G={class:"col-md-10"},H={class:"row g-4"},M={class:"card"},O=["src"],j=t("span",null,"詳細資訊",-1),J={class:"card-body"},K={class:"card-title"},Q={class:"card-text"},W=t("br",null,null,-1),X=["onClick"];function Y(c,e,s,$,d,r){const o=u("router-link"),_=u("pagination-component");return i(),n("div",q,[t("div",z,[F,t("div",G,[t("div",H,[(i(!0),n(k,null,T(d.products,a=>(i(),n("div",{class:"col-md-4 col-sm-6",key:a.id},[t("div",M,[h(o,{class:"products-img",role:"button",to:`/product/${a.id}`},{default:C(()=>[t("img",{src:a.imageUrl,class:"card-img-top",style:{width:"100%",height:"350px"}},null,8,O),j]),_:2},1032,["to"]),t("div",J,[t("h5",K,l(a.title),1),t("p",Q,[m(l(a.description)+" ",1),W,m(" "+l(a.content),1)]),t("button",{type:"button",class:"btn btn-danger mt-auto fs-6 w-100",onClick:Z=>r.addToCart(a.id)}," 加入購物車 ",8,X)])])]))),128)),h(_,{pages:d.pagination,onGoToPage:r.getProducts},null,8,["pages","onGoToPage"])])])])])}const st=P(U,[["render",Y]]);export{st as default};
