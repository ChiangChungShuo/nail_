/* empty css                 */import{S as d}from"./sweetalert2.all-a90964f5.js";import{_ as y,r as m,o as c,c as n,d as v,b as t,F as r,z as g,D as w,t as i,w as C,e as V,f as b,E as T,G as I}from"./index-9718a612.js";const{VITE_APP_URL:h,VITE_APP_PATH:u}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/nail_",MODE:"production",DEV:!1,PROD:!0},A={data(){return{products:[],productId:"",cart:{},cartStatus:!1,isLoading:!1,loadingItem:""}},methods:{getCarts(){this.$http.get(`${h}/api/${u}/cart`).then(e=>{this.cart=e.data.data,this.cart.carts.length===0?this.cartStatus=!1:this.cartStatus=!0}).catch(e=>{console.error(e)})},updatedCartItem(e){const o={product_id:e.product.id,qty:e.qty};this.loadingItem=e.id,this.$http.put(`${h}/api/${u}/cart/${e.id}`,{data:o}).then(_=>{this.getCarts(),d.fire({position:"center",icon:"success",title:"產品數量已更新",showConfirmButton:!1,timer:1500}),this.loadingItem=""}).catch(_=>{console.error(_)})},delCartItem(e){this.loadingItem=e.id,this.$http.delete(`${h}/api/${u}/cart/${e.id}`).then(o=>{this.getCarts(),d.fire({position:"center",icon:"success",title:"成功刪除",showConfirmButton:!0,confirmButtonText:"確認"}),this.loadingItem=""}).catch(o=>{console.error(o)})},deleteAll(){d.fire({title:"確定要清空購物車?",showDenyButton:!0,confirmButtonText:"確認清空",denyButtonText:"取消"}).then(e=>{e.isConfirmed?this.$http.delete(`${h}/api/${u}/carts`).then(()=>{this.getCarts(),d.fire({position:"center",icon:"success",title:"購物車已全部刪除",showConfirmButton:!0,confirmButtonText:"確認"})}).catch(o=>alert(o.response.data.message)):e.isDenied&&d.fire("留著好了","","info")})},changeLoading(e){this.loadingItem=e}},mounted(){this.getCarts(),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1e3)}},B=V('<div class="container"><div class="row"><ol class="list my-5"><li class="active"><svg xmlns="http://www.w3.org/2000/svg" height="25" fill="currentColor" class="bi bi-1-circle" viewBox="0 0 16 16"><path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM9.283 4.002V12H7.971V5.338h-.065L6.072 6.656V5.385l1.899-1.383h1.312Z"></path></svg> 購物清單 </li><li><svg xmlns="http://www.w3.org/2000/svg" height="25" fill="currentColor" class="bi bi-2-circle" viewBox="0 0 16 16"><path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM6.646 6.24v.07H5.375v-.064c0-1.213.879-2.402 2.637-2.402 1.582 0 2.613.949 2.613 2.215 0 1.002-.6 1.667-1.287 2.43l-.096.107-1.974 2.22v.077h3.498V12H5.422v-.832l2.97-3.293c.434-.475.903-1.008.903-1.705 0-.744-.557-1.236-1.313-1.236-.843 0-1.336.615-1.336 1.306Z"></path></svg> 填寫資訊 </li><li><svg xmlns="http://www.w3.org/2000/svg" height="25" fill="currentColor" class="bi bi-3-circle" viewBox="0 0 16 16"><path d="M7.918 8.414h-.879V7.342h.838c.78 0 1.348-.522 1.342-1.237 0-.709-.563-1.195-1.348-1.195-.79 0-1.312.498-1.348 1.055H5.275c.036-1.137.95-2.115 2.625-2.121 1.594-.012 2.608.885 2.637 2.062.023 1.137-.885 1.776-1.482 1.875v.07c.703.07 1.71.64 1.734 1.917.024 1.459-1.277 2.396-2.93 2.396-1.705 0-2.707-.967-2.754-2.144H6.33c.059.597.68 1.06 1.541 1.066.973.006 1.6-.563 1.588-1.354-.006-.779-.621-1.318-1.541-1.318Z"></path><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Z"></path></svg> 完成訂單 </li></ol></div></div>',1),k={key:0,class:"text-center"},$=t("p",{style:{"font-size":"30px"},class:"my-5"},"購物車內還沒有商品，快去選購吧！",-1),L=[$],N={key:1,class:"container"},P={class:"row mt-5"},S={class:"col-md-6"},E={class:"text-end my-3"},M=["disabled"],Z={class:"table align-middle"},D=t("thead",null,[t("tr",null,[t("th"),t("th",null,"圖片"),t("th",{style:{width:"150px"}},"品名"),t("th",{class:"text-align"},"數量"),t("th",{class:"text-end"},"單價"),t("th",{class:"text-end"},"小計")])],-1),U=["disabled","onClick"],H=t("i",{class:"fas fa-spinner fa-pulse"},null,-1),q=["src"],j={class:"input-group input-group-sm"},z=["onUpdate:modelValue","disabled","onChange"],R=["value"],F={class:"text-end"},O={class:"text-end"},G=t("td",{colspan:"5",class:"text-end"},"總計",-1),X={class:"text-end"},J={class:"col-md-6 my-5"},K={class:"card rounded-0",style:{"border-color":"#4e6752"}},Q=t("div",{class:"card-header border-bottom-0 bg-white px-4 py-4"},[t("h3",null,"訂單詳情")],-1),W={class:"card-body mt-3 px-4 py-0"},Y={class:"list-group-item px-0",style:{"border-bottom-color":"#4e6752","border-bottom-width":"1px"}},tt={class:"d-flex mt-2"},st=["src"],et={class:"w-100 d-flex flex-column"},ot={class:"d-flex justify-content-between fw-bold"},lt={class:"mb-0"},it={class:"d-flex justify-content-between mt-auto"},ct={class:"text-muted mb-0"},nt={class:"mb-0"},at={class:"list-group-item px-0 pb-0"},dt={class:"table text-muted"},rt=t("h3",{style:{color:"#0a0a0a"}},"總價",-1),ht={class:"text-end border-0 px-0",style:{"font-size":"25px",color:"#4e6752"}},ut={class:"text-end"};function _t(e,o,_,pt,l,p){const f=m("VueLoading"),x=m("router-link");return c(),n(r,null,[v(f,{active:l.isLoading,"onUpdate:active":o[0]||(o[0]=s=>l.isLoading=s)},null,8,["active"]),B,l.cartStatus?(c(),n("div",N,[t("div",P,[t("div",S,[t("div",E,[t("button",{class:"btn btn-outline-danger",type:"button",disabled:!l.cartStatus,onClick:o[1]||(o[1]=s=>p.deleteAll())}," 清空購物車 ",8,M)]),t("table",Z,[D,t("tbody",null,[l.cart.carts?(c(!0),n(r,{key:0},g(l.cart.carts,s=>(c(),n("tr",{key:s.id},[t("td",null,[t("button",{type:"button",class:"btn btn-outline-danger btn-sm",disabled:s.id===l.loadingItem,onClick:a=>p.delCartItem(s)},[H,b(" x ")],8,U)]),t("td",null,[t("img",{style:{width:"50px",height:"50px"},src:s.product.imageUrl,alt:"",class:"object-cover"},null,8,q)]),t("td",null,i(s.product.title),1),t("td",null,[t("div",j,[T(t("select",{name:"",id:"",class:"text-center",style:{width:"48px"},"onUpdate:modelValue":a=>s.qty=a,disabled:s.id===l.loadingItem,onChange:a=>p.updatedCartItem(s)},[(c(),n(r,null,g(20,a=>t("option",{value:a,key:`${a}+'12345'`},i(a),9,R)),64))],40,z),[[I,s.qty]])])]),t("td",F,"NT$"+i(s.product.price),1),t("td",O,"NT$"+i(s.total),1)]))),128)):w("",!0)]),t("tfoot",null,[t("tr",null,[G,t("td",X,"NT$"+i(l.cart.total),1)])])])]),t("div",J,[t("div",K,[Q,t("div",W,[(c(!0),n(r,null,g(l.cart.carts,s=>(c(),n("ul",{class:"list-group list-group-flush",key:s.id},[t("li",Y,[t("div",tt,[t("img",{src:s.product.imageUrl,class:"me-2",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,st),t("div",et,[t("div",ot,[t("h5",null,i(s.product.title),1),t("p",lt,"X"+i(s.qty),1)]),t("div",it,[t("p",ct,[t("small",null,"NT$ "+i(s.product.price),1)]),t("p",nt,"NT$"+i(s.total),1)])])])])]))),128)),t("li",at,[t("table",dt,[t("tbody",null,[t("tr",null,[rt,t("td",ht," NT$ "+i(l.cart.total),1)])])])])])])]),t("div",ut,[v(x,{class:"btn btn-outline-primary",to:"/subscriber"},{default:C(()=>[b("下一步")]),_:1})])])])):(c(),n("div",k,L))],64)}const bt=y(A,[["render",_t]]);export{bt as default};
