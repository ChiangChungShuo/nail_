/* empty css                 */import{S as i}from"./sweetalert2.all-f521015d.js";import{_,y as v,r as f,o as b,c as w,a as t,b as l,w as V,d as x,q as u,A as C,E as B}from"./index-8f52f471.js";const{VITE_APP_URL:r,VITE_APP_PATH:n}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/weekk66",MODE:"production",DEV:!1,PROD:!0},A={data(){return{products:[],productId:"",cart:{},cartStatus:!1,isLoading:!1,loadingItem:"",user:{email:"",name:"",tel:"",address:""},message:""}},methods:{getCarts(){this.$http.get(`${r}/api/${n}/cart`).then(e=>{this.cart=e.data.data,this.cart.carts.length===0?this.cartStatus=!1:this.cartStatus=!0}).catch(e=>{console.error(e)})},updatedCartItem(e){const s={product_id:e.product.id,qty:e.qty};this.loadingItem=e.id,this.$http.put(`${r}/api/${n}/cart/${e.id}`,{data:s}).then(h=>{this.getCarts(),i.fire({position:"center",icon:"success",title:"產品數量已更新",showConfirmButton:!1,timer:1500}),this.loadingItem=""}).catch(h=>{console.error(h)})},delCartItem(e){this.loadingItem=e.id,this.$http.delete(`${r}/api/${n}/cart/${e.id}`).then(s=>{this.getCarts(),i.fire({position:"center",icon:"success",title:"成功刪除",showConfirmButton:!0,confirmButtonText:"確認"}),this.loadingItem=""}).catch(s=>{console.error(s)})},deleteAll(){i.fire({title:"確定要清空購物車?",showDenyButton:!0,confirmButtonText:"確認清空",denyButtonText:"取消"}).then(e=>{e.isConfirmed?v.delete(`${r}/api/${n}/carts`).then(()=>{this.getCarts(),i.fire({position:"center",icon:"success",title:"購物車已全部刪除",showConfirmButton:!0,confirmButtonText:"確認"})}).catch(s=>alert(s.response.data.message)):e.isDenied&&i.fire("留著好了","","info")})},changeLoading(e){this.loadingItem=e},onSubmit(){const e={user:this.user,message:this.message};if(this.cart.carts.length===0){alert("購物車內還沒有商品唷～");return}this.$http.post(`${r}/api/${n}/order`,{data:e}).then(s=>{i.fire({position:"center",icon:"success",title:"成功送出訂單",showConfirmButton:!0,confirmButtonText:"確認"}),this.$refs.form.resetForm(),this.getCarts(),this.message="",this.$router.push("/finish")}).catch(s=>{alert(s.response.data.message)})},isPhone(e){return/^(09)[0-9]{8}$/.test(e)?!0:"需要正確的電話號碼"}},mounted(){this.getCarts(),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1e3)}},I={class:"container"},P={class:"row my-5 justify-content-center"},T=x('<ol class="list"><li><svg xmlns="http://www.w3.org/2000/svg" height="25" fill="currentColor" class="bi bi-1-circle" viewBox="0 0 16 16"><path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM9.283 4.002V12H7.971V5.338h-.065L6.072 6.656V5.385l1.899-1.383h1.312Z"></path></svg> 購物清單 </li><li class="active"><svg xmlns="http://www.w3.org/2000/svg" height="25" fill="currentColor" class="bi bi-2-circle" viewBox="0 0 16 16"><path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM6.646 6.24v.07H5.375v-.064c0-1.213.879-2.402 2.637-2.402 1.582 0 2.613.949 2.613 2.215 0 1.002-.6 1.667-1.287 2.43l-.096.107-1.974 2.22v.077h3.498V12H5.422v-.832l2.97-3.293c.434-.475.903-1.008.903-1.705 0-.744-.557-1.236-1.313-1.236-.843 0-1.336.615-1.336 1.306Z"></path></svg> 填寫資訊 </li><li><svg xmlns="http://www.w3.org/2000/svg" height="25" fill="currentColor" class="bi bi-3-circle" viewBox="0 0 16 16"><path d="M7.918 8.414h-.879V7.342h.838c.78 0 1.348-.522 1.342-1.237 0-.709-.563-1.195-1.348-1.195-.79 0-1.312.498-1.348 1.055H5.275c.036-1.137.95-2.115 2.625-2.121 1.594-.012 2.608.885 2.637 2.062.023 1.137-.885 1.776-1.482 1.875v.07c.703.07 1.71.64 1.734 1.917.024 1.459-1.277 2.396-2.93 2.396-1.705 0-2.707-.967-2.754-2.144H6.33c.059.597.68 1.06 1.541 1.066.973.006 1.6-.563 1.588-1.354-.006-.779-.621-1.318-1.541-1.318Z"></path><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8Z"></path></svg> 完成訂單 </li></ol>',1),y={class:"mb-3"},S=t("label",{for:"email",class:"form-label"},"Email",-1),E={class:"mb-3"},$=t("label",{for:"name",class:"form-label"},"姓名",-1),k={class:"mb-3"},M=t("label",{for:"tel",class:"form-label"},"電話",-1),Z={class:"mb-3"},L=t("label",{for:"address",class:"form-label"},"地址",-1),U={class:"mb-3"},H=t("label",{for:"message",class:"form-label"},"留言",-1),q=t("div",{class:"text-end"},[t("button",{type:"submit",class:"btn btn-danger"},"送出訂單")],-1);function D(e,s,h,N,o,p){const c=f("v-field"),d=f("error-message"),g=f("v-form");return b(),w("div",I,[t("div",P,[T,l(g,{ref:"form",class:"col-md-6 mt-5",onSubmit:p.onSubmit},{default:V(({errors:m})=>[t("div",y,[S,l(c,{id:"email",name:"email",type:"email",class:u(["form-control",{"is-invalid":m.email}]),placeholder:"請輸入 Email",rules:"required|email",modelValue:o.user.email,"onUpdate:modelValue":s[0]||(s[0]=a=>o.user.email=a)},null,8,["class","modelValue"]),l(d,{name:"email",class:"invalid-feedback"})]),t("div",E,[$,l(c,{id:"name",name:"姓名",type:"text",class:u(["form-control",{"is-invalid":m.姓名}]),placeholder:"請輸入姓名",rules:"required",modelValue:o.user.name,"onUpdate:modelValue":s[1]||(s[1]=a=>o.user.name=a)},null,8,["class","modelValue"]),l(d,{name:"姓名",class:"invalid-feedback"})]),t("div",k,[M,l(c,{id:"tel",name:"電話",type:"tel",class:u(["form-control",{"is-invalid":m.電話}]),placeholder:"請輸入電話",rules:p.isPhone,modelValue:o.user.tel,"onUpdate:modelValue":s[2]||(s[2]=a=>o.user.tel=a)},null,8,["rules","class","modelValue"]),l(d,{name:"電話",class:"invalid-feedback"})]),t("div",Z,[L,l(c,{id:"address",name:"地址",type:"text",class:u(["form-control",{"is-invalid":m.地址}]),placeholder:"請輸入地址",rules:"required",modelValue:o.user.address,"onUpdate:modelValue":s[3]||(s[3]=a=>o.user.address=a)},null,8,["class","modelValue"]),l(d,{name:"地址",class:"invalid-feedback"})]),t("div",U,[H,C(t("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":s[4]||(s[4]=a=>o.user.message=a)},null,512),[[B,o.user.message]])]),q]),_:1},8,["onSubmit"])])])}const j=_(A,[["render",D]]);export{j as default};
