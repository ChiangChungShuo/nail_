import{_ as p,e as h,r as m,o as a,c as n,a as c,d as e,F as P,f as g,t as b,b as $,w as f}from"./index-959aee45.js";const{VITE_APP_URL:l,VITE_APP_PATH:d}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0},k={data(){return{products:[]}},components:{RouterLink:h},methods:{getProducts(){this.$http.get(`${l}/api/${d}/products/all`).then(t=>{console.log(t),this.products=t.data.products}).catch(t=>{console.error(t)})},addToCart(t){const r={product_id:t,qty:1};this.$http.post(`${l}/api/${d}/cart`,{data:r}).then(o=>{console.log(o),alert(o.data.message)}).catch(o=>{console.error(o)})}},mounted(){this.getProducts()}},T={class:"table"},V=["src"],E=["onClick"];function A(t,r,o,R,i,u){const _=m("Router-link");return a(),n("div",null,[c(" 產品頁面 "),e("table",T,[e("tbody",null,[(a(!0),n(P,null,g(i.products,s=>(a(),n("tr",{key:s.id},[e("td",null,b(s.title),1),e("td",null,[e("img",{src:s.imageUrl,width:"300",alt:""},null,8,V)]),e("td",null,[$(_,{class:"btn btn-primary",to:`/product/${s.id}`},{default:f(()=>[c("產品細節")]),_:2},1032,["to"]),e("button",{type:"button",class:"btn btn-danger",onClick:x=>u.addToCart(s.id)}," 加入購物車 ",8,E)])]))),128))])])])}const C=p(k,[["render",A]]);export{C as default};
