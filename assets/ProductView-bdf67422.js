import{S as C}from"./sweetalert2.all-e171335c.js";import{c as L}from"./cart-0ffab6af.js";import{_ as V,a as S,r as a,o as r,c as d,d as _,b as t,t as i,F as p,z as f,w as h,f as n,C as A}from"./index-b0ebcb20.js";import{S as B,a as E,A as z}from"./pagination.min-42b1d548.js";import{N as v,P as w}from"./pagination-9695d47d.js";const{VITE_APP_URL:m,VITE_APP_PATH:g}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"azraelk",BASE_URL:"/weekk66",MODE:"production",DEV:!1,PROD:!0},N={data(){return{modules:[v,w],isLoading:!1,product:{},similarProducts:[]}},methods:{gteProduct(){const{id:c}=this.$route.params;this.$http.get(`${m}/api/${g}/product/${c}`).then(s=>{this.product=s.data.product,this.getCategoryProducts()}).catch(s=>{console.error(s)})},addToCart(c,s=1){const y={data:{product_id:c,qty:s}};this.$http.post(`${m}/api/${g}/cart`,{data:y}).then(l=>{C.fire({position:"center",icon:"success",title:"成功加入購物車",showConfirmButton:!0,confirmButtonText:"確認"})}).catch(l=>{console.error(l)})},getCategoryProducts(){const{category:c}=this.product;this.$http.get(`${m}/api/${g}/products?category=${c}`).then(s=>{this.similarProducts=s.data.products}).catch(s=>{console.error(s)})},...S(L,["addToCart"])},mounted(){this.gteProduct(),this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},1e3),this.$watch(()=>this.product,()=>{this.getCategoryProducts()})},components:{Swiper:B,SwiperSlide:E},setup(){return{modules:[z,w,v]}}},U={class:"container my-5"},$={class:"row"},j={class:"col-md-12"},I={class:"row"},D={class:"d-flex justify-content-center my-4"},R={class:"col-md-4 col-sm-6"},O=["src"],q={class:"row mt-3"},F=["src"],H={class:"col-md-6 col-sm-6",style:{"font-size":"25px"}},M={class:""},G={class:""},J={key:0},K={key:1,style:{"font-size":"16px"}},Q={class:"h6"},W={class:"h5",style:{color:"#4e6752"}},X=t("div",null,[t("h2",{class:"card-title mt-4",style:{"font-weight":"600","font-size":"22px"}}," Morizanko 預約須知 "),t("p",{class:"card-text",style:{"font-weight":"500","font-size":"15px","line-height":"35px"}},[n(" ⚠️ 施作過程中可能會有小狀況發生及剪甘皮的受傷風險，會小心及避免。 "),t("br"),n(" 🕰 施作時間約需保留2-3小時，須耐久坐。（如需卸甲，則時間另計） "),t("br"),n(" 🌱首次預約時會請您先傳一下手部照片「指甲長度須超過指甲肉」 "),t("br"),n(" 「如有崁甲、灰指甲、咬甲」先去把指甲的健康照顧好，再預約變美美喔 "),t("br"),n(" 🤎如有事須更改時間或取消預約，請於「預約日期三天前」通知。 "),t("br"),n(" 🧡預約詢問請私訊官方Line @285fyfqx ")])],-1),Y={class:"input-group mt-3"},Z={type:"number",class:"form-control",min:"1",value:"1",ref:"qty"},tt={class:"d-flex justify-content-end"},st={class:"row"},et=t("h3",{style:{"text-align":"center"},class:"my-4"},"相關產品",-1),ot={class:"col-md-12"},it={class:"card"},ct=["src"],rt={class:"card-body"},nt={class:"card-title"},dt={class:"card-text d-flex justify-content-between align-items-center"},lt={class:"text-danger"},at=["onClick"];function ut(c,s,y,l,e,b){const x=a("VueLoading"),P=a("router-link"),k=a("swiper-slide"),T=a("swiper");return r(),d(p,null,[_(x,{active:e.isLoading,"onUpdate:active":s[0]||(s[0]=o=>e.isLoading=o)},null,8,["active"]),t("div",U,[t("div",$,[t("div",j,[t("div",I,[t("h1",D,i(e.product.title),1),t("div",R,[t("img",{src:e.product.imageUrl,style:{width:"100%",height:"450px"},class:"img-fluid object-cover"},null,8,O),t("div",q,[(r(!0),d(p,null,f(e.product.imagesUrl,(o,u)=>(r(),d("div",{class:"col",key:u},[t("img",{src:o,class:"object-cover",style:{width:"100%",height:"200px"},alt:""},null,8,F)]))),128))])]),t("div",H,[t("p",M,"商品描述 : "+i(e.product.description),1),t("p",G,"商品內容 : "+i(e.product.content),1),e.product.price===e.product.origin_price?(r(),d("div",J,i(e.product.price)+" 元 ",1)):(r(),d("div",K,[t("del",Q,"原價 "+i(e.product.origin_price)+" 元",1),t("div",W," 現在只要"+i(e.product.price)+" 元 ",1)])),X,t("div",Y,[t("input",Z,null,512),t("button",{type:"button",class:"btn btn-danger",onClick:s[1]||(s[1]=o=>b.addToCart(e.product.id))}," 加入購物車 ")])])])]),t("div",tt,[_(P,{class:"btn btn-sm btn-outline-secondary my-3",to:"/products"},{default:h(()=>[n(" 返回產品列表 ")]),_:1})]),t("div",st,[et,t("div",ot,[_(T,{spaceBetween:15,"slides-per-view":2,centeredSlides:!0,autoplay:{delay:2e3,disableOnInteraction:!0},navigation:!0,modules:l.modules,class:"mySwiper"},{default:h(()=>[(r(!0),d(p,null,f(e.similarProducts,(o,u)=>(r(),A(k,{key:u},{default:h(()=>[t("div",it,[t("img",{src:o.imageUrl,class:"card-img-top object-cover",style:{width:"auto",height:"250px"},alt:"product-image"},null,8,ct),t("div",rt,[t("h6",nt,i(o.title),1),t("div",dt,[t("del",null,"NT$"+i(o.origin_price),1),t("strong",lt,"NT$"+i(o.price),1)]),t("button",{class:"btn btn-outline-primary w-100 mt-2 I-btn",onClick:_t=>c.$router.push(`/product/${o.id}`)}," 前往商品 ",8,at)])])]),_:2},1024))),128))]),_:1},8,["modules"])])])])])],64)}const ft=V(N,[["render",ut]]);export{ft as default};
